<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // 深浅拷贝
    // 浅拷贝拷贝的是地址
    // 深拷贝拷贝的是值
    // 浅拷贝：Object。assign()
    // var obj = {
    //     name: '张三',
    //     age: 1118,
    //     ooo: {
    //         sex: '男'
    //     }
    // }
    // var obj1 = Object.assign({}, obj)
    // console.log(obj);
    // console.log(obj1);
    // var obj1 = { a: 1, b: 2 };
    // var obj2 = obj1
    // var obj3 = { ...obj1 }
    // obj1.a = 2;
    // console.log(obj1);
    // console.log(obj2);
    // console.log(obj3);
    // 深拷贝：
    // JSON.parse 和JSON.stringfy缺点就是如果对象里面有函数会丢失（或者无法转换）
    // var obj = {
    //     name: 'li',
    //     hobit: ['摄影', '羽毛球']
    // }
    // var obj1 = JSON.parse(JSON.stringify(obj));
    // obj1.hobit.push('游泳');
    // console.log(obj);
    // console.log(obj1);
    // 递归
    // var obj = {
    //     name: '张三',
    //     address: '',
    //     hobit: {
    //         age: 13,
    //         sex: '男'
    //     }
    // }
    // function deepCopy(obj) {
    //     if (obj == null) return obj
    //     if (obj instanceof Date) return new Date();
    //     if (obj instanceof RegExp) return new RegExp(obj)
    //     if (typeof obj != "object") return obj
    //     let newobj = new obj.constructor();
    //     for (let i in obj) {
    //         newobj[i] = deepCopy(obj[i])
    //     }
    //     console.log(newobj);
    //     return newobj;
    // }
    // let obj1 = deepCopy(obj)
    // obj1.name="李四"
    // obj1.hobit.age=14
    // console.log(obj1,obj);
    // 简化版
    // let obj = {
    //     name: '张三',
    //     age: 14,
    //     info: {
    //         admin: 'admin',
    //         pwd: 123456
    //     }
    // }
    // function deepCopy(data) {
    //     var newObj = {}
    //     for (let key in data) {
    //         if (data[key] instanceof Object) {
    //             newObj[key] = deepCopy(data[key]);
    //         } else {
    //             newObj[key] = data[key];
    //         }
    //     }
    //     return newObj;
    // }
    // var obj1 = deepCopy(obj)
    // obj1.info.admin = '123'
    // console.log(obj, obj1);

    var obj = {
        name: '张三',
        address: '河南',
        hobit: {
            age: 13,
            sex: '男'
        }
    }
    function deepCopy(obj) {
        if (obj == null) return null
        if (obj instanceof Date) return new Date()
        if (obj instanceof RegExp) return RegExp(obj)
        if (typeof obj != 'object') return obj
        let newobj = new obj.constructor()
        for (let i in obj) {
            newobj[i] = deepCopy(obj[i]);
        }
        return newobj;
    }
    var obj1 = deepCopy(obj)
    obj1.hobit.age = 18
    console.log(obj,obj1);
</script>

</html>